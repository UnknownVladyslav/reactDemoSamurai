{"version":3,"sources":["components/Users/Users.module.css","components/Users/User/User.module.css","components/common/Paginator/Paginator.js","components/Users/User/User.js","components/Users/UsersList.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.js"],"names":["module","exports","Paginator","currentPage","onPageChanged","totalItemsCount","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumder","leftPortionPageNumber","rightPortionNumber","className","classes","paginator","onClick","icon","faArrowLeft","arrowIcon","filter","p","map","selectedPage","pagesListItem","e","faArrowRight","User","user","followingInProgress","unfollow","follow","userCard","to","id","src","photos","small","userPhoto","alt","userName","name","followed","disabled","some","followButton","UsersList","users","usersList","u","Users","totalUsersCount","pageSize","props","loading","Loader","usersPage","getUsers","state","getTotalUsersCount","getCurrentPage","getLoading","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","toggleFollowingProgress","React","Component","compose","connect","setCurrentPage"],"mappings":"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","file":"static/js/3.7879a0c3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__1qyAg\",\"usersList\":\"Users_usersList__3yZV9\",\"paginator\":\"Users_paginator__2PxSX\",\"pagesListItem\":\"Users_pagesListItem__2u8h3\",\"selectedPage\":\"Users_selectedPage__3dMeN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userCard\":\"User_userCard__1RQBy\",\"userName\":\"User_userName__2qBmK\",\"followButton\":\"User_followButton__2QU-d\"};","import React, {useState} from 'react'\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faArrowLeft, faArrowRight} from \"@fortawesome/free-solid-svg-icons\";\r\nimport classes from './../../Users/Users.module.css'\r\n\r\nconst Paginator = ({currentPage, onPageChanged, totalItemsCount, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / portionSize)\r\n\r\n    let pages = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumder] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionNumber = portionNumber * portionSize\r\n\r\n    return <div className={classes.paginator}>\r\n        <ul>\r\n            { portionNumber > 1 &&\r\n            <button onClick={ () => setPortionNumder(portionNumber - 1)}><FontAwesomeIcon icon={faArrowLeft} className={classes.arrowIcon}/></button>\r\n            }\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionNumber)\r\n                .map(p => {\r\n                return <li key={p}\r\n                           className={`${currentPage === p && classes.selectedPage} ${classes.pagesListItem}`}\r\n                           onClick={e => {\r\n                               onPageChanged(p)\r\n                           }}>{p}</li>\r\n            })}\r\n            { portionCount > portionNumber &&\r\n            <button onClick={ () => setPortionNumder(portionNumber + 1)}><FontAwesomeIcon icon={faArrowRight} className={classes.arrowIcon}/></button>\r\n            }\r\n        </ul>\r\n    </div>\r\n}\r\n\r\nexport default Paginator","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from '../../../assets/images/avatar-batman-small.png'\r\nimport classes from './User.module.css'\r\n\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return <div className={classes.userCard}>\r\n        <div>\r\n            <NavLink to={'/profile/' + user.id}><img\r\n                src={user.photos.small != null ? user.photos.small : userPhoto} alt='user photo'/></NavLink>\r\n        </div>\r\n\r\n        <div className={classes.userName}>{user.name}</div>\r\n        {/*<div>{user.status}</div>*/}\r\n\r\n        <div>{'country'}</div>\r\n        <div>{'city'}</div>\r\n\r\n        <div>\r\n            {user.followed ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                    unfollow(user.id)\r\n                }} className={classes.followButton}>Unfollow</button>\r\n\r\n                : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                    follow(user.id)\r\n                }} className={classes.followButton}>Follow</button>}\r\n        </div>\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default User","import React from 'react'\r\nimport User from \"./User/User\";\r\nimport classes from './Users.module.css'\r\n\r\n\r\nconst UsersList = ({followingInProgress, follow, unfollow, users}) => {\r\n    return <div className={classes.usersList}>\r\n        {\r\n        users.map( u => <User key={u.id} user={u}\r\n                             followingInProgress={followingInProgress}\r\n                             follow={follow} unfollow={unfollow}\r\n    />)\r\n\r\n        }\r\n    </div>\r\n}\r\nexport default UsersList","import React from 'react'\r\nimport Loader from \"../common/Loader/Loader\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport UsersList from \"./UsersList\";\r\nimport classes from './Users.module.css'\r\n\r\n\r\nconst Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, ...props}) => {\r\n\r\n    if (props.loading) {\r\n        return <Loader/>\r\n    }\r\n\r\n    return <div className={classes.usersPage}>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount} portionSize={pageSize}/>\r\n        <div>\r\n            <UsersList followingInProgress={props.followingInProgress}\r\n                       follow={props.follow} unfollow={props.unfollow}\r\n                       users={props.users}\r\n            />\r\n        </div>\r\n    </div>\r\n}\r\nexport default Users","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const pageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getLoading = (state) => {\r\n    return state.usersPage.loading\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow, toggleFollowingProgress,\r\n    requestUsers\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Loader from \"../common/Loader/Loader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress, getLoading,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n    pageSize\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize)\r\n    }\r\n\r\n\r\n    onPageChanged = pageNumber => {\r\n        let {pageSize} = this.props\r\n         this.props.requestUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.loading ? <Loader/> :\r\n                <Users\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    loading={this.props.loading}\r\n                />\r\n            }\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: pageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        loading: getLoading(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n    {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        requestUsers\r\n    })\r\n)(UsersContainer)"],"sourceRoot":""}