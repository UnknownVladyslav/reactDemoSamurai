(this["webpackJsonpreact-kamasutra"]=this["webpackJsonpreact-kamasutra"]||[]).push([[3],{313:function(e,t,r){e.exports={usersPage:"Users_usersPage__1qyAg",usersList:"Users_usersList__3yZV9",paginator:"Users_paginator__2PxSX",pagesListItem:"Users_pagesListItem__2u8h3",selectedPage:"Users_selectedPage__3dMeN"}},315:function(e,t,r){e.exports={userCard:"User_userCard__1RQBy",userName:"User_userName__2qBmK",followButton:"User_followButton__2QU-d"}},316:function(e,t,r){"use strict";r.r(t);var n=r(60),s=r(61),o=r(71),a=r(70),c=r(39),l=r(0),i=r(1),u=r.n(i),g=r(10),f=r(148),d=r(77),p=r(38),j=r(101),h=r(122),b=r(123),P=r(313),w=r.n(P),O=function(e){for(var t=e.currentPage,r=e.onPageChanged,n=e.totalItemsCount,s=e.portionSize,o=void 0===s?10:s,a=Math.ceil(n/o),c=[],u=1;u<=a;u++)c.push(u);var g=Math.ceil(a/o),f=Object(i.useState)(1),d=Object(j.a)(f,2),p=d[0],P=d[1],O=(p-1)*o+1,m=p*o;return Object(l.jsx)("div",{className:w.a.paginator,children:Object(l.jsxs)("ul",{children:[p>1&&Object(l.jsx)("button",{onClick:function(){return P(p-1)},children:Object(l.jsx)(h.a,{icon:b.a,className:w.a.arrowIcon})}),c.filter((function(e){return e>=O&&e<=m})).map((function(e){return Object(l.jsx)("li",{className:"".concat(t===e&&w.a.selectedPage," ").concat(w.a.pagesListItem),onClick:function(t){r(e)},children:e},e)})),g>p&&Object(l.jsx)("button",{onClick:function(){return P(p+1)},children:Object(l.jsx)(h.a,{icon:b.b,className:w.a.arrowIcon})})]})})},m=r(13),x=r(73),v=r(315),C=r.n(v),_=function(e){var t=e.user,r=e.followingInProgress,n=e.unfollow,s=e.follow;return Object(l.jsxs)("div",{className:C.a.userCard,children:[Object(l.jsx)("div",{children:Object(l.jsx)(m.b,{to:"/profile/"+t.id,children:Object(l.jsx)("img",{src:null!=t.photos.small?t.photos.small:x.a,alt:"user photo"})})}),Object(l.jsx)("div",{className:C.a.userName,children:t.name}),Object(l.jsx)("div",{children:"country"}),Object(l.jsx)("div",{children:"city"}),Object(l.jsx)("div",{children:t.followed?Object(l.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){n(t.id)},className:C.a.followButton,children:"Unfollow"}):Object(l.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){s(t.id)},className:C.a.followButton,children:"Follow"})})]})},U=function(e){var t=e.followingInProgress,r=e.follow,n=e.unfollow,s=e.users;return Object(l.jsx)("div",{className:w.a.usersList,children:s.map((function(e){return Object(l.jsx)(_,{user:e,followingInProgress:t,follow:r,unfollow:n},e.id)}))})},I=function(e){var t=e.currentPage,r=e.onPageChanged,n=e.totalUsersCount,s=e.pageSize,o=Object(d.a)(e,["currentPage","onPageChanged","totalUsersCount","pageSize"]);return o.loading?Object(l.jsx)(p.a,{}):Object(l.jsxs)("div",{className:w.a.usersPage,children:[Object(l.jsx)(O,{currentPage:t,onPageChanged:r,totalItemsCount:n,portionSize:s}),Object(l.jsx)("div",{children:Object(l.jsx)(U,{followingInProgress:o.followingInProgress,follow:o.follow,unfollow:o.unfollow,users:o.users})})]})},y=r(7),N=function(e){return e.usersPage.users},S=function(e){return e.usersPage.pageSize},k=function(e){return e.usersPage.totalUsersCount},z=function(e){return e.usersPage.currentPage},B=function(e){return e.usersPage.loading},L=function(e){return e.usersPage.followingInProgress};function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var q=function(e){Object(o.a)(r,e);var t=R(r);function r(){var e;Object(n.a)(this,r);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onPageChanged=function(t){var r=e.props.pageSize;e.props.requestUsers(t,r)},e}return Object(s.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,r=e.pageSize;this.props.requestUsers(t,r)}},{key:"render",value:function(){return Object(l.jsx)(l.Fragment,{children:this.props.loading?Object(l.jsx)(p.a,{}):Object(l.jsx)(I,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress,loading:this.props.loading})})}}]),r}(u.a.Component);t.default=Object(y.d)(Object(g.b)((function(e){return{users:N(e),pageSize:S(e),totalUsersCount:k(e),currentPage:z(e),loading:B(e),followingInProgress:L(e)}}),{follow:f.b,unfollow:f.f,setCurrentPage:f.d,toggleFollowingProgress:f.e,requestUsers:f.c}))(q)}}]);
//# sourceMappingURL=3.338b03e2.chunk.js.map