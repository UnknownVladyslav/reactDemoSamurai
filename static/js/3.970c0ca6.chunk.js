(this["webpackJsonpreact-kamasutra"]=this["webpackJsonpreact-kamasutra"]||[]).push([[3],{295:function(e,o,n){e.exports={userCard:"User_userCard__23GC4",userName:"User_userName__3hmRF",followButton:"User_followButton__19eGh"}},296:function(e,o,n){"use strict";n.r(o);var r=n(36),t=n(37),s=n(39),a=n(38),l=n(0),i=n(1),c=n.n(i),u=n(14),g=n(133),f=n(46),j=n(40),d=n(20),p=n(128),h=n(129),b=n(2),w=n.n(b),P=function(e){for(var o=e.currentPage,n=e.onPageChanged,r=e.totalItemsCount,t=e.portionSize,s=void 0===t?10:t,a=Math.ceil(r/s),c=[],u=1;u<=a;u++)c.push(u);var g=Math.ceil(a/s),f=Object(i.useState)(1),j=Object(d.a)(f,2),b=j[0],P=j[1],O=(b-1)*s+1,m=b*s;return Object(l.jsx)("div",{className:w.a.paginator,children:Object(l.jsxs)("ul",{children:[b>1&&Object(l.jsx)("button",{onClick:function(){return P(b-1)},children:Object(l.jsx)(p.a,{icon:h.a,className:w.a.arrowIcon})}),c.filter((function(e){return e>=O&&e<=m})).map((function(e){return Object(l.jsx)("li",{className:"".concat(o===e&&w.a.selectedPage," ").concat(w.a.pagesListItem),onClick:function(o){n(e)},children:e},e)})),g>b&&Object(l.jsx)("button",{onClick:function(){return P(b+1)},children:Object(l.jsx)(p.a,{icon:h.b,className:w.a.arrowIcon})})]})})},O=n(17),m=n(66),x=n(295),C=n.n(x),v=function(e){var o=e.user,n=e.followingInProgress,r=e.unfollow,t=e.follow;return Object(l.jsxs)("div",{className:C.a.userCard,children:[Object(l.jsx)("div",{children:Object(l.jsx)(O.b,{to:"/profile/"+o.id,children:Object(l.jsx)("img",{src:null!=o.photos.small?o.photos.small:m.a,alt:"user photo"})})}),Object(l.jsx)("div",{className:C.a.userName,children:o.name}),Object(l.jsx)("div",{children:"country"}),Object(l.jsx)("div",{children:"city"}),Object(l.jsx)("div",{children:o.followed?Object(l.jsx)("button",{disabled:n.some((function(e){return e===o.id})),onClick:function(){r(o.id)},className:C.a.followButton,children:"Unfollow"}):Object(l.jsx)("button",{disabled:n.some((function(e){return e===o.id})),onClick:function(){t(o.id)},className:C.a.followButton,children:"Follow"})})]})},I=function(e){var o=e.followingInProgress,n=e.follow,r=e.unfollow,t=e.users;return Object(l.jsx)("div",{className:w.a.usersList,children:t.map((function(e){return Object(l.jsx)(v,{user:e,followingInProgress:o,follow:n,unfollow:r},e.id)}))})},N=function(e){var o=e.currentPage,n=e.onPageChanged,r=e.totalUsersCount,t=e.pageSize,s=Object(f.a)(e,["currentPage","onPageChanged","totalUsersCount","pageSize"]);return s.loading?Object(l.jsx)(j.a,{}):Object(l.jsxs)("div",{className:w.a.usersPage,children:[Object(l.jsx)(P,{currentPage:o,onPageChanged:n,totalItemsCount:r,portionSize:t}),Object(l.jsx)("div",{children:Object(l.jsx)(I,{followingInProgress:s.followingInProgress,follow:s.follow,unfollow:s.unfollow,users:s.users})})]})},U=n(8),k=function(e){return e.usersPage.users},S=function(e){return e.usersPage.pageSize},z=function(e){return e.usersPage.totalUsersCount},_=function(e){return e.usersPage.currentPage},y=function(e){return e.usersPage.loading},F=function(e){return e.usersPage.followingInProgress},B=function(e){Object(s.a)(n,e);var o=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return(e=o.call.apply(o,[this].concat(s))).onPageChanged=function(o){var n=e.props.pageSize;e.props.requestUsers(o,n)},e}return Object(t.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,o=e.currentPage,n=e.pageSize;this.props.requestUsers(o,n)}},{key:"render",value:function(){return Object(l.jsx)(l.Fragment,{children:this.props.loading?Object(l.jsx)(j.a,{}):Object(l.jsx)(N,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress,loading:this.props.loading})})}}]),n}(c.a.Component);o.default=Object(U.d)(Object(u.b)((function(e){return{users:k(e),pageSize:S(e),totalUsersCount:z(e),currentPage:_(e),loading:y(e),followingInProgress:F(e)}}),{follow:g.b,unfollow:g.f,setCurrentPage:g.d,toggleFollowingProgress:g.e,requestUsers:g.c}))(B)}}]);
//# sourceMappingURL=3.970c0ca6.chunk.js.map